{"version":3,"sources":["panels/Home.js","static/locations.js","panels/Locations.js","panels/Game.js","App.js","index.js"],"names":["Home","id","go","stretched","size","mode","onClick","LOCATIONS","university","hospital","embassy","movieStudio","partisanDetachment","vegetableMarket","pirateShip","polarStation","supermarket","theatre","passengerTrain","Locations","left","Object","keys","map","loc","expandable","Game","openLocationModal","startTimer","timer","stopTimer","useState","countOfPlayers","setCountOfPlayers","countOfSpyes","setCountOfSpyes","gameStart","dealStart","gameStatus","setGameStatus","currentPlayer","setCurrentPlayer","location","setLocation","spyUsers","setSpyUsers","getRandomInt","min","max","Math","ceil","floor","random","top","status","type","name","value","onChange","evt","currentTarget","i","concat","length","style","textAlign","display","marginBottom","includes","alignItems","flexDirection","fontSize","margin","App","scheme","setScheme","activePanel","setActivePanel","activeModal","setActiveModal","setTimer","timerId","setTimerId","flashLightIsAvailable","setFlasLightIsAvailable","countdownTimer","deadline","diff","Date","clearInterval","bridge","send","level","setTimeout","minutes","seconds","useEffect","subscribe","detail","data","is_available","e","dataset","to","modal","height","justifyContent","onClose","count","date","getTime","setInterval","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.358dc0c3.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar } from '@vkontakte/vkui';\n\nconst Home = ({ id, go }) => (\n\t<Panel id={id}>\n\t\t<PanelHeader>Spy</PanelHeader>\n\t\t<Group>\n\t\t\t<Div>\n\t\t\t\t<Button stretched size=\"l\" mode=\"secondary\" onClick={go} data-to=\"locations\">\n\t\t\t\t\tПосмотреть локации\n\t\t\t\t</Button>\n\t\t\t</Div>\n\t\t\t<Div>\n\t\t\t\t<Button stretched size=\"l\" mode=\"secondary\" onClick={go} data-to=\"game\">\n\t\t\t\t\tНачать игру\n\t\t\t\t</Button>\n\t\t\t</Div>\n\t\t</Group>\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Home;\n","export const LOCATIONS = {\r\n    university: \"Университет\",\r\n    hospital: \"Больница\",\r\n    embassy: \"Посольство\",\r\n    movieStudio: \"Киностудия\",    \r\n    partisanDetachment: \"Партизанский отряд\",\r\n    vegetableMarket: \"Овощебаза\",\r\n    pirateShip: \"Пиратский корабль\",\r\n    polarStation: \"Полярная станция\",\r\n    supermarket: \"Супермаркет\",\r\n    theatre: \"Театр\",\r\n    passengerTrain: \"Пассажирский поезд\",\r\n}\r\n\r\nexport const STATUS = {\r\n    university: {\r\n        student: \"Студент\",\r\n        watchman: \"Вахтёр\",\r\n        rector: \"Ректор\",\r\n        professor: \"Профессор\",\r\n        graduateStudent: \"Аспирант\",\r\n    },\r\n    hospital: {\r\n        therapist: \"Терапевт\",\r\n        surgeon: \"Хирург\",\r\n        nurse: \"Медсестра\",\r\n        patient: \"Пациент\",\r\n    },\r\n    embassy: {\r\n        ambassador: 'Посол',\r\n        bodyguard: 'Телохранитель',\r\n    }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar, PanelHeaderBack, List } from '@vkontakte/vkui';\r\nimport { LOCATIONS } from '../static';\r\n\r\nconst Locations = ({ id, go }) => (\r\n    <Panel id={id}>\r\n        <PanelHeader  left={<PanelHeaderBack onClick={go} data-to=\"home\" />}>\r\n             Локации\r\n        </PanelHeader>\r\n        <Group>\r\n            <List>\r\n                {LOCATIONS && Object.keys(LOCATIONS).map(loc => {\r\n                    return (\r\n                        <Cell expandable key={loc}>\r\n                            {LOCATIONS[loc]}\r\n                        </Cell>\r\n                    )\r\n                })}\r\n            </List>\r\n        </Group>\r\n    </Panel>\r\n);\r\n\r\nLocations.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Locations;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {\r\n  Panel,\r\n  PanelHeader,\r\n  PanelHeaderBack,\r\n  Group,\r\n  Header,\r\n  FormLayout,\r\n  FormItem,\r\n  Input,\r\n  Button,\r\n  Div,\r\n  Paragraph,\r\n  ButtonGroup,\r\n} from \"@vkontakte/vkui\";\r\n\r\nimport { LOCATIONS } from '../static';\r\n\r\nconst Game = ({ id, go, openLocationModal, startTimer, timer, stopTimer }) => {\r\n\r\n  const [countOfPlayers, setCountOfPlayers] = useState(3);\r\n  const changeCountOfPlayers = (evt) => {\r\n    setCountOfPlayers(evt.currentTarget.value);\r\n  }\r\n\r\n  const [countOfSpyes, setCountOfSpyes] = useState(1);\r\n  const changeCountOfSpyes = (evt) => {\r\n    setCountOfSpyes(evt.currentTarget.value);\r\n  }\r\n\r\n  const [gameStatus, setGameStatus] = useState({\r\n    gameStart: false,\r\n    dealStart: false,\r\n  })\r\n  \r\n  const [currentPlayer, setCurrentPlayer] = useState(1);\r\n  const [location, setLocation] = useState(\"\");\r\n  const [spyUsers, setSpyUsers] = useState([]);\r\n\r\n  function getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n  }\r\n\r\n  const dealStart = () => {\r\n    setGameStatus({\r\n        ...gameStatus,\r\n        dealStart: true,\r\n    })\r\n    for (let i = 1; i <= countOfSpyes; i += 1) {\r\n        setSpyUsers(spyUsers.concat([getRandomInt(0, countOfPlayers)]));\r\n    }\r\n    setLocation(\r\n        LOCATIONS[Object.keys(LOCATIONS)[getRandomInt(1, Object.keys(LOCATIONS).length)]]\r\n    );\r\n  }; \r\n\r\n  const startGame = () => {\r\n    startTimer(countOfPlayers);\r\n    setGameStatus({\r\n        gameStart: true,\r\n        dealStart: false,\r\n    })\r\n  };\r\n\r\n  const endGame = () => {\r\n    setCurrentPlayer(1);\r\n    setSpyUsers([]);\r\n    setLocation('');\r\n    stopTimer();\r\n    setGameStatus({\r\n        gameStart: false,\r\n        dealStart: false\r\n    })\r\n  }\r\n\r\n  const nextPlayer = () => {\r\n    setCurrentPlayer(currentPlayer + 1);\r\n  };\r\n\r\n  const getSpyesStatus = () => {\r\n    if (countOfPlayers == 12) {\r\n      return countOfSpyes == 2 ? \"valid\" : \"error\";\r\n    } else {\r\n      return countOfSpyes >= 1 && countOfSpyes <= 2 ? \"valid\" : \"error\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Panel id={id}>\r\n      <PanelHeader left={<PanelHeaderBack onClick={go} data-to=\"home\" />}>\r\n        Игра\r\n      </PanelHeader>\r\n\r\n      {!gameStatus.dealStart && !gameStatus.gameStart && (\r\n        <Group>\r\n          <Header>Подготовка</Header>\r\n          <FormLayout>\r\n            <FormItem\r\n              top=\"Количество игроков\"\r\n              status={\r\n                countOfPlayers >= 3 && countOfPlayers <= 12 ? \"valid\" : \"error\"\r\n              }\r\n            >\r\n              <Input\r\n                type=\"number\"\r\n                name=\"countOfPlayers\"\r\n                value={countOfPlayers}\r\n                onChange={changeCountOfPlayers}\r\n              />\r\n            </FormItem>\r\n            <FormItem\r\n              top=\"Количество шпионов\"\r\n              status={getSpyesStatus()}\r\n            >\r\n              <Input\r\n                type=\"number\"\r\n                name=\"countOfSpyes\"\r\n                value={countOfSpyes}\r\n                onChange={changeCountOfSpyes}\r\n              />\r\n            </FormItem>\r\n            <FormItem>\r\n              <Button size=\"l\" stretched onClick={dealStart}>\r\n                Начать раздачу\r\n              </Button>\r\n            </FormItem>\r\n          </FormLayout>\r\n        </Group>\r\n      )}\r\n      {gameStatus.dealStart && (\r\n        <Div style={{ textAlign: 'center'}}>\r\n          <Paragraph  style={{display: 'block', marginBottom: 10}}>\r\n            Игрок {currentPlayer}, ознакомтесь с локацией.\r\n          </Paragraph>\r\n          <ButtonGroup stretched mode=\"vertical\">\r\n            <Button\r\n              stretched\r\n              mode=\"secondary\"\r\n              size=\"m\"\r\n              onClick={() => openLocationModal(spyUsers.includes(currentPlayer)\r\n                ? \"Вы шпион\"\r\n                : location)\r\n              }\r\n            >\r\n              Показать локацию\r\n            </Button>\r\n            {currentPlayer < countOfPlayers && (\r\n              <Button\r\n                stretched\r\n                mode=\"secondary\"\r\n                size=\"m\"\r\n                onClick={nextPlayer}\r\n              >\r\n                Следующий игрок\r\n              </Button>\r\n            )}\r\n            {currentPlayer == countOfPlayers && (\r\n              <Button stretched mode=\"secondary\" size=\"m\" onClick={startGame}>\r\n                Начать игру\r\n              </Button>\r\n            )}  \r\n          </ButtonGroup>\r\n        </Div>\r\n      )}\r\n      {gameStatus.gameStart && (\r\n        <Div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column', }}>\r\n          <Paragraph>Игра началась!</Paragraph>\r\n          <Paragraph style={{fontSize: '20px', margin: '10px'}}>{timer}</Paragraph>\r\n          <Button stretched mode=\"secondary\" size=\"m\" onClick={endGame}>\r\n                Закончить игру\r\n          </Button>\r\n        </Div>\r\n      )}\r\n    </Panel>\r\n  );\r\n};\r\n\r\nGame.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  go: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Game;","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot, ConfigProvider, SplitLayout, SplitCol, ModalRoot, ModalCard } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './static/global.css'\n\nimport Home from './panels/Home';\nimport Locations from './panels/Locations';\nimport Game from './panels/Game';\n\nconst App = () => {\n\tconst [scheme, setScheme] = useState('bright_light')\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [activeModal, setActiveModal] = useState('');\n\tconst [location, setLocation] = useState('');\n\tconst [timer, setTimer] = useState('');\n\tconst [timerId, setTimerId] = useState('');\n\tconst [flashLightIsAvailable, setFlasLightIsAvailable] = useState(false);\n\n\tfunction addMinutes(date, minutes) {\n\t\treturn new Date(date.getTime() + minutes * 60000);\n\t}\n\n\tfunction countdownTimer(deadline) {\n\t\tconst diff = deadline - new Date();\n\t\tif (diff <= 0) {\n\t\t\tclearInterval(timerId);\n\t\t}\n\t\tif (flashLightIsAvailable) {\n\t\t\tif (diff < 15 * 1000) {\n\t\t\t\tbridge.send(\"VKWebAppFlashSetLevel\", { level: 1 });\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tbridge.send(\"VKWebAppFlashSetLevel\", { level: 0 });\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t\tconst minutes = diff > 0 ? Math.floor(diff / 1000 / 60) % 60 : 0;\n\t\tconst seconds = diff > 0 ? Math.floor(diff / 1000) % 60 : 0;\n\t\tsetTimer(`${minutes}:${seconds < 10 ? `0${seconds}` : seconds}`);\n\t}\n\n\tconst startTimer = (count) => {\n\t\tconst deadline = addMinutes(new Date(), count);\n\n\t\tcountdownTimer(deadline);\n\n\t\tsetTimerId(setInterval(() => countdownTimer(deadline), 1000));\n\t}\n\n\tconst stopTimer = () => {\n\t\tsetTimer('');\n\t\tclearInterval(timerId);\n\t}\n\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data } }) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tsetScheme(data.scheme)\n\t\t\t}\n\t\t\tif (type === \"VKWebAppFlashGetInfoResult\") {\n\t\t\t\tsetFlasLightIsAvailable(data.is_available);\n\t\t\t\tif (data.is_available) {\n\t\t\t\t\tbridge.send(\"VKWebAppFlashSetLevel\", { level: 0 });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\tconst openLocationModal = (location) => {\n\t\tsetActiveModal('location');\n\t\tsetLocation(location);\n\t}\n\n\tconst modal = (\n\t\t<ModalRoot activeModal={activeModal}>\n\t\t\t<ModalCard style={{ height: '200px', display: 'flex', justifyContent: 'center', alignItems: 'center', fontSize: '18px' }} onClose={() => setActiveModal('')} id=\"location\">{location}</ModalCard>\n\t\t</ModalRoot>)\n\n\treturn (\n\t\t<ConfigProvider scheme={scheme}>\n\t\t\t<AdaptivityProvider>\n\t\t\t\t<AppRoot>\n\t\t\t\t\t<SplitLayout modal={modal}>\n\t\t\t\t\t\t<SplitCol>\n\t\t\t\t\t\t\t<View activePanel={activePanel}>\n\t\t\t\t\t\t\t\t<Locations id='locations' go={go} />\n\t\t\t\t\t\t\t\t<Home id='home' go={go} />\n\t\t\t\t\t\t\t\t<Game\n\t\t\t\t\t\t\t\t\tid='game'\n\t\t\t\t\t\t\t\t\tgo={go}\n\t\t\t\t\t\t\t\t\topenLocationModal={openLocationModal}\n\t\t\t\t\t\t\t\t\ttimer={timer}\n\t\t\t\t\t\t\t\t\tstartTimer={startTimer}\n\t\t\t\t\t\t\t\t\tstopTimer={stopTimer} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</SplitCol>\n\t\t\t\t\t</SplitLayout>\n\t\t\t\t</AppRoot>\n\t\t\t</AdaptivityProvider>\n\t\t</ConfigProvider>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}