(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{127:function(e,t,c){},129:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(20),r=c.n(a),s=c(11),i=c.n(s),j=c(12),o=c(6),d=(c(126),c(127),c(3)),l=function(e){var t=e.id,c=e.go;return Object(d.jsxs)(o.p,{id:t,children:[Object(d.jsx)(o.q,{children:"Spy"}),Object(d.jsxs)(o.j,{children:[Object(d.jsx)(o.g,{children:Object(d.jsx)(o.c,{stretched:!0,size:"l",mode:"secondary",onClick:c,"data-to":"locations",children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043b\u043e\u043a\u0430\u0446\u0438\u0438"})}),Object(d.jsx)(o.g,{children:Object(d.jsx)(o.c,{stretched:!0,size:"l",mode:"secondary",onClick:c,"data-to":"game",children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"})})]})]})},b={university:"\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442",hospital:"\u0411\u043e\u043b\u044c\u043d\u0438\u0446\u0430",embassy:"\u041f\u043e\u0441\u043e\u043b\u044c\u0441\u0442\u0432\u043e",movieStudio:"\u041a\u0438\u043d\u043e\u0441\u0442\u0443\u0434\u0438\u044f",partisanDetachment:"\u041f\u0430\u0440\u0442\u0438\u0437\u0430\u043d\u0441\u043a\u0438\u0438\u0306 \u043e\u0442\u0440\u044f\u0434",vegetableMarket:"\u041e\u0432\u043e\u0449\u0435\u0431\u0430\u0437\u0430",pirateShip:"\u041f\u0438\u0440\u0430\u0442\u0441\u043a\u0438\u0438\u0306 \u043a\u043e\u0440\u0430\u0431\u043b\u044c",polarStation:"\u041f\u043e\u043b\u044f\u0440\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f",supermarket:"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442",theatre:"\u0422\u0435\u0430\u0442\u0440",passengerTrain:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0441\u043a\u0438\u0438\u0306 \u043f\u043e\u0435\u0437\u0434"},O=function(e){var t=e.id,c=e.go;return Object(d.jsxs)(o.p,{id:t,children:[Object(d.jsx)(o.q,{left:Object(d.jsx)(o.r,{onClick:c,"data-to":"home"}),children:"\u041b\u043e\u043a\u0430\u0446\u0438\u0438"}),Object(d.jsx)(o.j,{children:Object(d.jsx)(o.m,{children:b&&Object.keys(b).map((function(e){return Object(d.jsx)(o.e,{expandable:!0,children:b[e]},e)}))})})]})},h=c(22),u=function(e){var t=e.id,c=e.go,a=e.openLocationModal,r=Object(n.useState)(3),s=Object(j.a)(r,2),i=s[0],l=s[1],O=Object(n.useState)(1),u=Object(j.a)(O,2),x=u[0],m=u[1],p=Object(n.useState)({gameStart:!1,dealStart:!1}),f=Object(j.a)(p,2),g=f[0],S=f[1],y=Object(n.useState)(1),v=Object(j.a)(y,2),k=v[0],C=v[1],M=Object(n.useState)(""),z=Object(j.a)(M,2),T=z[0],q=z[1],A=Object(n.useState)([]),w=Object(j.a)(A,2),B=w[0],E=w[1];function I(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}return Object(d.jsxs)(o.p,{id:t,children:[Object(d.jsx)(o.q,{left:Object(d.jsx)(o.r,{onClick:c,"data-to":"home"}),children:"\u0418\u0433\u0440\u0430"}),!g.dealStart&&!g.gameStart&&Object(d.jsxs)(o.j,{children:[Object(d.jsx)(o.k,{children:"\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430"}),Object(d.jsxs)(o.i,{children:[Object(d.jsx)(o.h,{top:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432",status:i>=3&&i<=12?"valid":"error",children:Object(d.jsx)(o.l,{type:"number",name:"countOfPlayers",value:i,onChange:function(e){l(e.currentTarget.value)}})}),Object(d.jsx)(o.h,{top:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0448\u043f\u0438\u043e\u043d\u043e\u0432",status:12==i?2==x?"valid":"error":x>=1&&x<=2?"valid":"error",children:Object(d.jsx)(o.l,{type:"number",name:"countOfSpyes",value:x,onChange:function(e){m(e.currentTarget.value)}})}),Object(d.jsx)(o.h,{children:Object(d.jsx)(o.c,{size:"l",stretched:!0,onClick:function(){S(Object(h.a)(Object(h.a)({},g),{},{dealStart:!0}));for(var e=1;e<=x;e+=1)E(B.concat([I(0,i)]));q(b[Object.keys(b)[I(0,Object.keys(b).length)]])},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0437\u0434\u0430\u0447\u0443"})})]})]}),g.dealStart&&Object(d.jsxs)(o.g,{style:{textAlign:"center"},children:[Object(d.jsxs)(o.s,{style:{display:"block",marginBottom:10},children:["\u0418\u0433\u0440\u043e\u043a ",k,", \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0442\u0435\u0441\u044c \u0441 \u043b\u043e\u043a\u0430\u0446\u0438\u0435\u0439."]}),Object(d.jsxs)(o.d,{stretched:!0,mode:"vertical",children:[Object(d.jsx)(o.c,{stretched:!0,mode:"secondary",size:"m",onClick:function(){return a(B.includes(k)?"\u0412\u044b \u0448\u043f\u0438\u043e\u043d":T)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043b\u043e\u043a\u0430\u0446\u0438\u044e"}),k<i&&Object(d.jsx)(o.c,{stretched:!0,mode:"secondary",size:"m",onClick:function(){C(k+1)},children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0438\u0433\u0440\u043e\u043a"}),k==i&&Object(d.jsx)(o.c,{stretched:!0,mode:"secondary",size:"m",onClick:function(){S({gameStart:!0,dealStart:!1})},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"})]})]}),g.gameStart&&Object(d.jsx)(o.g,{style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)(o.s,{children:"\u0418\u0433\u0440\u0430 \u043d\u0430\u0447\u0430\u043b\u0430\u0441\u044c!"})})]})},x=function(){var e=Object(n.useState)("bright_light"),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)("home"),s=Object(j.a)(r,2),b=s[0],h=s[1],x=Object(n.useState)(""),m=Object(j.a)(x,2),p=m[0],f=m[1],g=Object(n.useState)(""),S=Object(j.a)(g,2),y=S[0],v=S[1];Object(n.useEffect)((function(){i.a.subscribe((function(e){var t=e.detail,c=t.type,n=t.data;"VKWebAppUpdateConfig"===c&&a(n.scheme)}))}),[]);var k=function(e){h(e.currentTarget.dataset.to)},C=Object(d.jsx)(o.o,{activeModal:p,children:Object(d.jsx)(o.n,{onClose:function(){return f("")},id:"location",children:y})});return Object(d.jsx)(o.f,{scheme:c,children:Object(d.jsx)(o.a,{children:Object(d.jsx)(o.b,{children:Object(d.jsx)(o.u,{modal:C,children:Object(d.jsx)(o.t,{children:Object(d.jsxs)(o.v,{activePanel:b,children:[Object(d.jsx)(O,{id:"locations",go:k}),Object(d.jsx)(l,{id:"home",go:k}),Object(d.jsx)(u,{id:"game",go:k,openLocationModal:function(e){f("location"),v(e)}})]})})})})})})};i.a.send("VKWebAppInit"),r.a.render(Object(d.jsx)(x,{}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.530637c1.chunk.js.map